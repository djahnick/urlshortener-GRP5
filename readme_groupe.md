## Répartition des tâches

| Personne                          | Dossiers & fichiers à finir | Responsabilités précises | Remise attendue |
|----------------------------------|------------------------------|---------------------------|------------------|
| **Lhukas – Persistance & Config** | `internal/models/`, `internal/repository/`, `internal/config/`, `configs/` | **Base de données**<br>1. Compléter `link_repository.go` et `click_repository.go` : struct `Gorm*Repository`, constructeur `New*Repository`, méthodes CRUD + `CountClicksByLinkID`<br>2. Créer les modèles `Link` & `Click` (tags GORM).<br>3. Écrire `InitDB(cfg)` + `Migrate()` et un petit fichier `config.go`.<br>4. Fournir 3 tests unitaires (création, lecture, stats). | • `go test ./internal/repository` vert<br>• commande `./url-shortener migrate` fonctionne |
| **Djahnick – Services métier**    | `internal/services/` | **Logique métier**<br>1. Compléter `link_service.go` : struct `LinkService`, `GenerateShortCode`, `CreateLink` (retry/collision-handling), `GetLinkByShortCode`, `GetLinkStats`<br>2. Compléter `click_service.go` : struct `ClickService`, `RecordClick`, `GetClicksCountByLinkID`<br>3. 4 tests unitaires couvrant succès & erreurs. | • `go test ./internal/services` vert<br>• aucune dépendance directe à Gin |
| **Elvis – API HTTP (Gin)**        | `internal/api/`, `cmd/server/`, `main.go` | **Exposition REST**<br>1. Créer `SetupRouter(...)` avec routes `GET /health`, `POST /api/v1/links`, `GET /:code`, `GET /api/v1/links/:code/stats`<br>2. Middlewares logger & recovery.<br>3. Handler redirect : 302 + push dans `clickChan`.<br>4. Tests intégration `httptest` (shorten + redirect au minimum). | • `go run cmd/server` démarre sans panic<br>• tests HTTP passent |
| **Damien – CLI + Concurrence**    | `cmd/cli/`, `internal/workers/`, `internal/monitor/`, *(Dockerfile)* | **Ops & tâches de fond**<br>1. Sous-commandes Cobra : `create`, `stats`, `migrate`, `run-server`<br>2. `click_worker.go` : goroutine consommant `clickChan` → `CreateClick`<br>3. `url_monitor.go` : terminer constructeur, boucle `Start`, `checkUrls`, `isUrlAccessible` + logs `[NOTIFICATION]`<br>4. `run-server` doit lancer : DB, services, router, worker, monitor.<br>5. *(Bonus)* Dockerfile + make-targets. | • `./url-shortener run-server` lance tout et loggue worker + monitor<br>• démonstration manuelle OK |
